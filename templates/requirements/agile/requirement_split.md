# 敏捷需求拆分指南

## 敏捷模式概述

尽可能从业务视角出发，将大块的业务功能需求，拆分为多个小的业务功能需求，并从用户视角来描述它，以提醒所有人关注业务价值。

对这些小需求进行评估和优先级排序后，团队再分批进行迭代交付。

这种任务拆分方式，让团队能：
- 尽早的产出可运行的软件
- 让业务人员可以看到业务功能的进展
- 便于与团队沟通，提前发现需求理解不一致等问题
- 灵活应对临时的需求变更，响应市场的快速变化

### 总原则

**利于持续交付的需求拆分总原则：坚持以业务视角对需求进行分解。**

---

## 需求拆分收益

| 序号 | 收益 | 说明 |
|-----|------|------|
| 1 | **建立共识，协调工作** | 需求提前进行拆分，拆分的时候，与该需求相关的所有角色均需要参与，每个需求的边界上下文都被充分的讨论，从而让每个角色对该需求的目标、质量标准和验收条件达成一致。过程中，各角色知识互补，共同完善需求。 |
| 2 | **小批量交付，加速价值流动** | 将较大的需求进行拆分后，我们就能够进行小批量开发和测试，从而尽早地交付软件，让用户更早地使用软件。 |
| 3 | **低成本拥抱变化** | 在分批交付过程中，一旦在开发过程中遇到突发情况（例如市场需求发生了变化，需要插入更高优先级的需求），团队可以快速将手中的任务完成（或放弃），然后投入新插入的高优先级需求。 |
| 4 | **多次集成，及时反馈质量** | 即使小批量需求开发完成后无法马上交付给用户，我们也可以进行联调与测试，如果此时发现软件缺陷，则可以及早修复。如果发现的缺陷过多，我们根据现状，快速分析原因，及时做出调整，不必等到软件开发后期才发现。 |
| 5 | **鼓舞团队士气** | 如果每个迭代开发的新功能都立即被用户使用，并且获得反馈，团队就会受到鼓舞（无论是点赞，还是吐槽）。因为团队成员知道，用户正在使用我们的产品，而且还对产品提出建议或意见。 |

---

## 需求遵循原则

### INVEST 原则

| 原则 | 说明 |
|-----|------|
| **Independent（独立）** | 用户故事必须彼此独立，低耦合 |
| **Negotiable（可协商）** | 在进入开发前，故事卡用来提醒团队和干系人要进行讨论，而不是直接作为产品人员与开发人员之间的契约来使用 |
| **Valuable（有价值）** | 用户故事对用户或客户来讲必须是重要的，有价值的 |
| **Estimable（可估算）** | 开发团队必须能够估算创建用户故事所需的工作量 |
| **Small（规模小且适中）** | 用户故事必须足够小，尽可能要在一个迭代内完成（建议完成开发并通过测试的工作量在 3~5 个工作日内），并且多个用户故事之间的开发工作量差异不宜过大 |
| **Testable（可验证）** | 用户故事必须是可以被验证的 |

> 在现实工作中，的确会存在一小部分非常复杂的用户需求，很难同时完全满足这 6 个原则。在这种情况下，可以做一些妥协，但至少要满足可估算、规模小且可验证，即 **EST > INV**。
>
> 假如无法独立交付，但在较短时间内可以独立开发和独立验证，且不影响当前已完成的软件功能，也是可行的。

---

## 需求拆分方法

### 五大拆分技法

为了帮助大家掌握更好的用户故事拆分方法，下面介绍 5 种技法。

#### 1. 路径拆分法

**定义：** 根据用户使用场景中的不同路径进行拆分。

**示例：**

用户在电商网站购物以后，需要支付订单，既可以选择微信支付，也可以选择使用银行卡支付。

如果同时实现两种支持方式的工作量比较大，就可以将其分成两个用户故事：

| 用户故事 | 描述 |
|---------|------|
| 用户可以使用微信支付订单 | |
| 用户可以使用银行卡支付订单 | |

假设银行卡渠道因为需要支持不同种类的银行卡（借记卡和信用卡），或者同种类但不同银行的卡（如招商银行和工商银行），而导致工作量过大，那么还可以进一步将其按照每个银行每种类型的支付卡来拆分用户故事。

当然，如果你在实现第一种借记卡（如招行借记卡）支付时，就已经完成了较多的基础性工作，也可以将对其他银行的借记卡支持合并写在同一个用户故事里。

---

#### 2. 按接触点拆分

**定义：** 所谓接触点就是指用户与系统之间的交互通道。

**示例：**

| 接触点 | 说明 |
|-------|------|
| 移动端应用 | 移动端 App |
| PC 浏览器 | Safari、Chrome、Firefox、IE |

如果 IE 浏览器的适配工作量比较大，而其他几种浏览器的适配工作量比较小，那么我们就可以分成两个用户故事：

| 用户故事 | 描述 |
|---------|------|
| 用户可以使用 IE 内核的浏览器查看 | |
| 用户可以使用非 IE 内核的浏览器查看 | |

---

#### 3. 按数据类型或格式拆分

**示例场景：**

有一个软件，它是做数据统计与分析的工具。其中有这样一个需求，用户可以通过文件形式向软件系统导入数据，文件格式包括 CSV、XML、Excel。

那么，我们的用户故事可以直接分成 3 个：

| 用户故事 | 描述 |
|---------|------|
| 用户可以通过 CSV 格式的文件上传数据 | |
| 用户可以通过 XML 格式的文件上传数据 | |
| 用户可以通过 Excel 格式的文件上传数据 | |

---

#### 4. 按规则拆分

**定义：** 规则是指业务规则或者技术规则。

**示例场景：**

有一个海上航运配货规划系统，其中有一个需求是：输入起点和终点，可以根据货物的种类选择最佳的配送线路。

那么这个需求可以分成两部分：
1. 货物的种类
2. 航线

当分解这个需求时，如按航线来分，可以分成两个部分：

| 需求类型 | 描述 |
|---------|------|
| **基础需求** | 用户选择起点和终点，系统可以选出一条配送航线 |
| **完善需求** | 用户选择起点和终点，系统可以选择一条时间最短的配送航线 |

这两个需求之间会有一定的递进依存关系，但它们可以分别实现。其中，**"时间最短"就是一个规则**。如果用户需要新的"最佳航线"计算方式，则可以再添加新的规则。

---

#### 5. 按探索路径拆分

**定义：** 在开发过程中，团队总是遇到一些对团队来说都很陌生的事物或不确定的实现方案。

**示例：**

必须使用某种新的框架或技术，而且也找不到外援专家来帮助团队。

此时可以将对陌生事物的试验性探索逐步分拆成不同的探索故事。这种探索故事有较大的不确定性，因此要作为高风险点管理，时刻关注其进展。
