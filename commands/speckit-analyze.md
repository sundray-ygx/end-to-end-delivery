---
description: Speckit 一致性分析 - 六重检测（重复/歧义/欠规格/宪法/覆盖/一致）
argument-hint: (可选) 分析范围
---

# /speckit-analyze - 一致性分析

执行六重一致性分析，对规格文档、技术计划和任务列表进行全面质量检查。

## 六重检测

| 检测项 | 描述 |
|--------|------|
| **重复检测** | 识别相似或重复的需求 |
| **歧义检测** | 标记模糊和不明确的描述 |
| **欠规格检测** | 发现缺失的验收标准 |
| **宪法对齐** | 验证与项目宪法的合规性 |
| **覆盖率分析** | 检查需求到任务的映射完整性 |
| **不一致性检查** | 发现术语冲突和需求矛盾 |

## 使用方式

```bash
# 基本用法
/speckit-analyze

# 指定分析范围
/speckit-analyze --spec-only
/speckit-analyze --include-tasks
```

## 严重程度分级

| 级别 | 描述 | 处理 |
|------|------|------|
| **CRITICAL** | 违反宪法 MUST、缺失核心章节 | 必须修复后继续 |
| **HIGH** | 重复/冲突需求、模糊安全/性能 | 强烈建议修复 |
| **MEDIUM** | 术语漂移、缺失边缘情况 | 建议修复 |
| **LOW** | 措辞改进、轻微冗余 | 可选修复 |

## 输出报告

```markdown
# 规格分析报告

## 发现
| ID | 类别 | 严重程度 | 位置 | 摘要 | 建议 |
|----|------|----------|------|------|------|
| A1 | 歧义 | HIGH | spec.md:L45 | "快速响应"缺乏指标 | 指定可测量目标 |

## 覆盖率分析
| 类别 | 数量 | 已覆盖 | 覆盖率 |
|------|------|--------|--------|
| 功能性 | 8 | 7 | 87.5% |
```

## 相关技能

```text
/skill speckit-analyze
```
