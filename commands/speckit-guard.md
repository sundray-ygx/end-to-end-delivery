---
description: Speckit 宪法治理 - 质量门禁、复杂度论证、合规性验证
argument-hint: (可选) 检查范围
---

# /speckit-guard - 宪法治理

确保所有开发决策符合项目宪法的非可协商原则，通过质量门禁控制开发质量。

## 核心原则

| 原则 | 描述 |
|------|------|
| **价值优先** | 用户场景按业务价值排序 |
| **TDD 非可协商** | 测试先写 → 用户审批 → 测试失败 → 然后实现 |
| **规格质量** | 无实现细节、需求可测试 |
| **一致性** | 无冲突、覆盖率完整 |

## 质量门禁

| 门禁 | 检查项 |
|------|--------|
| Gate 1 | 规格质量 |
| Gate 2 | 一致性分析 |
| Gate 3 | 宪法检查 |
| Gate 4 | 实施验证 |

## 使用方式

```bash
# 基本用法
/speckit-guard

# 指定检查范围
/speckit-guard --design-stage
/speckit-guard --constitution-only
```

## 输出报告

```markdown
# 宪法检查报告

## 合规状态
| 原则 | 状态 | 备注 |
|------|------|------|
| 价值优先 | ⚠️ 警告 | US2 缺乏清晰价值主张 |
| TDD | ✓ 通过 | 测试方法已定义 |

## 质量门禁
| 门禁 | 状态 | 未通过项 |
|------|------|----------|
| Gate 1 | ⚠️ 警告 | 2 项 |
| Gate 2 | ✓ 通过 | 0 项 |
```

## 复杂度论证

当需要违反宪法原则时，必须在复杂度跟踪表中记录论证：

```markdown
| 违规 | 论证 | 状态 |
|------|------|------|
| 规格包含实现细节 | 由于需要明确数据库选型，在规格中提及 PostgreSQL | 已记录 |
```

## 相关技能

```text
/skill speckit-guard
```
