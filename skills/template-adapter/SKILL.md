---
name: template-adapter
description: 本地开发流程模板适配器 - 融合本地开发流程模板，利用模板提供的分析维度增强AI分析的深度和完整性
---

# 本地开发流程模板适配器

## 概述

本技能支持融合本地的开发流程模板，**利用模板提供的分析维度和框架来增强AI分析的深度**，而非简单填充模板内容。模板提供分析视角、思考方向和检查维度，AI基于这些维度进行深度分析。

## 模板位置

### 插件默认模板
```
{插件目录}/templates/
├── project-structure/     # 项目结构模板
├── documentation/         # 文档模板
├── custom-workflow/       # 自定义工作流模板
└── coding-standards/      # 代码规范模板（预留）
```

插件实际安装位置：
- **缓存目录**: `~/.claude/plugins/cache/local-plugins/end-to-end-delivery/templates/`
- **市场目录**: `~/.claude/plugins/marketplaces/end-to-end-delivery/templates/`

### 项目本地模板
```
{项目根目录}/.claude/templates/
├── workflow/              # 工作流模板
├── documents/             # 文档模板
└── standards/             # 规范模板
```

## 模板类型

### 1. 工作流模板

定义端到端流程的执行方式和阶段安排。

### 2. 分析框架模板

**核心概念**：这些模板提供各阶段的分析维度和思考方向，而非输出格式。

**需求分析框架**：
- Story 模板提供 INVEST 原则（独立、可协商、有价值、可估算、规模小、可验证）
- Epic 模板提供战略分析维度（业务目标、范围、依赖、成效指标）
- Feature 模板提供特性拆分维度

**设计分析框架**：
- 总体设计模板提供架构分析维度（系统层次、模块划分、接口设计）
- 模块详细设计模板提供实现分析维度（数据结构、算法、异常处理）
- 模块微型设计模板提供快速设计维度

**编码检查框架**：
- 从企业 Excel 转换的编码 checklist 提供代码审查维度
- 覆盖命名规范、代码组织、错误处理、安全等方面

### 3. 文档参考模板

提供企业文档的标准结构，用于理解企业分析框架的期望维度。

例如，通过阅读用户需求规格说明书模板，AI可以了解到企业期望从以下维度分析需求：
- 用户痛点分析
- 业务价值评估
- 目标用户识别
- 场景分析
- 验收标准定义

AI基于这些维度进行深度分析，而非简单填充模板。

## 模板加载

### 自动加载

插件启动时自动加载模板:

1. **插件默认模板**
   - 从插件安装目录加载 (`~/.claude/plugins/cache/local-plugins/end-to-end-delivery/templates/`)
   - 作为后备模板

2. **项目本地模板**
   - 从 `{项目根目录}/.claude/templates/` 加载
   - 覆盖默认模板

3. **全局模板**
   - 从 `~/.claude/templates/` 加载
   - 覆盖项目模板

### 加载优先级

```
全局模板 > 项目模板 > 插件默认模板
```

## 维度提取与分析

### 提取分析维度

从模板中提取分析维度和框架：

```markdown
# 示例：从 Story.md 提取 INVEST 原则

## 分析维度
1. Independent（独立）- 检查用户故事是否独立
2. Negotiable（可协商）- 检查需求是否可讨论
3. Valuable（有价值）- 检查是否对用户有价值
4. Estimable（可估算）- 检查工作量是否可估算
5. Small（规模小）- 检查规模是否适中
6. Testable（可验证）- 检查是否可验证

## 分析方法
基于这些维度评估用户需求，识别不足之处，提出改进建议。
```

### 维度覆盖检查

确保分析覆盖了模板提供的所有维度：

1. **读取模板** - 理解模板期望的分析维度
2. **执行分析** - 基于这些维度进行深度分析
3. **覆盖检查** - 验证分析是否覆盖所有维度
4. **输出报告** - 生成包含各维度分析结果的报告

## 自定义分析框架

### 创建自定义分析框架

在项目目录创建自定义分析框架：

```bash
mkdir -p .claude/templates
nano .claude/templates/my-analysis-framework.md
```

### 定义分析维度

```markdown
# 我的需求分析框架

## 核心分析维度

### 用户价值维度
- 用户痛点识别
- 用户收益评估
- 用户场景分析

### 技术可行性维度
- 技术难度评估
- 依赖关系分析
- 风险识别

### 商业价值维度
- ROI 评估
- 市场影响
- 竞争优势
```

### 在分析中使用

AI将基于这些自定义维度进行深度分析，确保覆盖所有定义的分析角度。

---

**记住**: 模板提供分析维度和框架，AI基于这些维度进行深度分析。模板不是输出格式，而是分析指南。
